!function(){"use strict";function o(o,e){o.otherwise("/")}function e(o,e,t){console.log("app module started!")}angular.module("myApp",["ui.router","ngMaterial","ngFileUpload"]).config(o).run(e),o.$inject=["$urlRouterProvider","$locationProvider"],e.$inject=["$http","$rootScope","$window"]}(),function(){"use strict";function o(o,e){var t=this;t.ocrResult="",console.log("pdfOcr component on!"),e.get("/api/ocr/",{params:{url:t.originUrl}}).then(function(o){console.log(o),t.ocrResult=o.data})}angular.module("myApp").component("pdfOcr",{templateUrl:"/src/app/pdfOcrComponent/pdfOcr.tmpl.html",controller:o,bindings:{originUrl:"<"}}),o.$inject=["$scope","$http"]}(),function(){"use strict";function o(o,e){console.log("summary component on!")}angular.module("myApp").component("summaryComponent",{templateUrl:"/src/app/summaryComponent/summary.tmpl.html",controller:o,bindings:{}}),o.$inject=["$scope","$http"]}(),function(){"use strict";function o(o){console.log("In routes config"),o.state("app",{abstract:!0,templateUrl:"front-end.html"}).state("topPage",{url:"/",templateUrl:"route/homepage.html",controller:"homepageCtrl",controllerAs:"$ctrl"})}angular.module("myApp").config(o),o.$inject=["$stateProvider"]}(),function(){"use strict";function o(o){console.log("homepageCtrl ok")}angular.module("myApp").controller("homepageCtrl",o),o.$inject=["$scope"]}(),function(){"use strict";function o(o,e,t,l){var n=this;console.log("uploadFile component on!"),n.$onInit=function(){n.files=[],n.lang={view:"ENG",tesseract:"eng",googletranslate:"en-US"},n.langs=[{view:"ENG",tesseract:"eng",googletranslate:"en-US"},{view:"JPN",tesseract:"jpn",googletranslate:"jp-JP"},{view:"VIE",tesseract:"vie",googletranslate:"vi-VI"}],n.ocrResult="",n.progressCircular=!1,n.voiceSrc=""},n.submit=function(){n.ocrResult="",n.progressCircular=!0,console.log(n.file),n.file&&n.upload(n.file);var o=new Date;n.fileName=o.getTime()},n.upload=function(o){console.log("in Upload"),n.fileName=n.fileName+n.file.filename,console.log(n.fileName),e.rename(o,n.fileName),e.upload({url:"/api/upload",data:{file:o}}).then(function(o){if(0===o.data.error_code){var e=n.file.type;n.outUrl=o.data.msg,console.log(o),console.log(n.outUrl),"application/pdf"==e?(console.log("get text from PDF"),l.get("/api/pdf2text",{params:{url:n.outUrl,lang:n.lang.tesseract}}).then(function(o){console.log(o),n.progressCircular=!1,n.ocrResult=o.data})):(console.log("get OCR result from IMG"),l.get("/api/ocr",{params:{url:n.outUrl,lang:n.lang.tesseract}}).then(function(o){console.log(o),n.progressCircular=!1,n.ocrResult=o.data}))}else t.alert("an error occured")},function(o){console.log("Error status: "+o.status),t.alert("Error status: "+o.status)},function(o){console.log(o);var e=parseInt(100*o.loaded/o.total);console.log("upload progress: "+e+"% "+o.config.data.file.name),n.progress="upload progress: "+e+"% "})},n.getVoice=function(o){console.log("get voice from google"),console.log({text:o,lang:n.lang.googletranslate,filename:n.fileName}),l.get("/api/voice",{params:{text:o,lang:n.lang.googletranslate,filename:n.fileName}}).then(function(o){console.log(o);var e="./../../public/voice"+o.data.slice(1,o.data.length);console.log(e);var t=document.location.pathname,l=t.substring(t.indexOf("/"),t.lastIndexOf("/"));console.log(l),n.voiceSrc=e})}}angular.module("myApp").component("uploadFile",{templateUrl:"/src/app/uploadFileComponent/uploadFile.tmpl.html",controller:o,binding:{uploadedFileSrc:"@"}}),o.$inject=["$scope","Upload","$window","$http"]}();